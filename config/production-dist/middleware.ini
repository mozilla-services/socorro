# this configuration file sets up a "stand alone" middleware server running on
# localhost port 8881 using the CherryPy Web server.

# name: application
# doc: the fully qualified module or class of the application
# converter: configman.converters.class_converter
application='MiddlewareApp'

[database]

    +include config/postgres.ini

[implementations]

    # name: implementation_list
    # doc: list of packages for service implementations
    # converter: items_list_converter
    implementation_list='psql, socorro.external.postgresql, hbase, socorro.external.hbase, es, socorro.external.elasticsearch'

    # name: service_overrides
    # doc: comma separated list of class overrides, e.g `Crashes: hbase`
    # converter: items_list_converter
    service_overrides=''

[logging]

    # name: stderr_error_logging_level
    # doc: logging level for the logging to stderr (10 - DEBUG, 20 - INFO, 30 - WARNING, 40 - ERROR, 50 - CRITICAL)
    # converter: int
    stderr_error_logging_level='10'

    # name: syslog_error_logging_level
    # doc: logging level for the log file (10 - DEBUG, 20 - INFO, 30 - WARNING, 40 - ERROR, 50 - CRITICAL)
    # converter: int
    syslog_error_logging_level='40'

    +include config/logging.ini

[revisions]

    # name: breakpad_revision
    # doc: the current revision of Breakpad
    # converter: str
    breakpad_revision='CURRENT_BREAKPAD_REVISION'

    # name: socorro_revision
    # doc: the current revision of Socorro
    # converter: str
    socorro_revision='CURRENT_SOCORRO_REVISION'

[web_server]

    # name: ip_address
    # doc: the IP address from which to accept submissions
    # converter: str
    ip_address='127.0.0.1'

    # name: port
    # doc: the port to listen to for submissions
    # converter: int
    port='8881'

    # name: wsgi_server_class
    # doc: a class implementing a wsgi web server
    # converter: configman.converters.class_converter
    wsgi_server_class='socorro.webapi.servers.CherryPy'

[webapi]

    # name: channels
    # doc: List of release channels, excluding the `release` one.
    # converter: list
    #channels='Beta, Aurora, Nightly, beta, aurora, nightly'

    # name: elasticSearchHostname
    # doc: String containing the URI of the Elastic Search instance.
    # converter: str
    elasticSearchHostname='localhost'

    # name: elasticSearchPort
    # doc: String containing the port on which calling the Elastic Search instance.
    # converter: str
    elasticSearchPort='9200'

    # name: platforms
    # doc: Array associating OS ids to full names.
    # converter: list
    #platforms='{"id": "windows", "name": "Windows NT"}, {"id": "mac", "name": "Mac OS X"}, {"id": "linux", "name": "Linux"}'

    # name: restricted_channels
    # doc: List of release channels to restrict based on build ids.
    # converter: list
    restricted_channels='Beta, beta'

    # name: searchMaxNumberOfDistinctSignatures
    # doc: Integer containing the maximum allowed number of distinct signatures the system should retrieve. Used mainly for performances in ElasticSearch
    # converter: int
    searchMaxNumberOfDistinctSignatures='1000'

