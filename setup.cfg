[flake8]
ignore =
    # E203: Whitespace before ':'; doesn't work with black
    E203,
    # E501: line too long
    E501,
    # W503: line break before operator; this doesn't work with black
    W503
exclude =
    .git/,
    __pycache__,
    docs/,
    webapp-django/crashstats/*/migrations/*,
    webapp-django/node_modules/,
    build/
max-line-length = 88

[tool:pytest]
# -rsxX        - show skipped, failed, and passed tests
# --tb=native  - print native traceback
# -p no:django - disable the pytest-django plugin for Socorro tests
addopts = -rsxX --tb=native -p no:django
norecursedirs = .git docs config docker __pycache__
testpaths = socorro/
# Transform all warnings into errors
filterwarnings =
    error
    # boto3 kicks up ResourceWarning: unclosed socket, https://github.com/boto/boto3/issues/454
    ignore:unclosed:ResourceWarning
    # configman kicks up DeprecationWarning errors about collections https://github.com/mozilla/configman/issues/172
    # boto3 kicks up DeprecationWarning about collections, https://github.com/boto/botocore/issues/1885
    ignore:Using or importing the ABCs:DeprecationWarning
    # sentry requires urllib3 version that deprecated urllib3.contrib.pyopenssl which
    # botocore still uses, https://github.com/boto/botocore/issues/2744
    ignore:'urllib3.contrib.pyopenssl':DeprecationWarning

[tool:release]
github_user = mozilla-services
github_project = socorro
bugzilla_product = Socorro
bugzilla_component = Infra
main_branch = main

[tool:paul-mclendahand]
github_user = mozilla-services
github_project = socorro
main_branch = main
